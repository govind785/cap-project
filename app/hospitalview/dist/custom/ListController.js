sap.ui.define(["sap/m/MessageToast","sap/m/Dialog","sap/m/Button","sap/m/List","sap/m/StandardListItem"],function(t,e,s,o,n){"use strict";return{onCustomButtonPress:function(){t.show("Fetching hospital data...");$.ajax({url:"/odata/v4/hospital/Hospitals",method:"GET",dataType:"json",success:function(a){if(a&&a.value&&a.value.length>0){const i=a.value;let l=null;const u=new o({mode:"SingleSelect",items:i.map(function(t){return new n({title:t.name,description:`ID: ${t.ID}`,type:"Active",customData:[new sap.ui.core.CustomData({key:"hospitalId",value:t.ID})]})}),selectionChange:function(e){const s=e.getParameter("listItem");l=s.getCustomData()[0].getValue();t.show("Selected Hospital ID: "+l)}});const c=new e({title:"Select Hospital to Submit",contentWidth:"450px",content:[u],beginButton:new s({text:"Submit",type:"Emphasized",press:function(){if(!l){t.show("⚠ Please select a hospital first!");return}const e={HospitalID:l,Action:"SubmitFromDialog"};t.show("Submitting hospital ID: "+l+"...");$.ajax({url:"/odata/v4/hospital/Submissions",method:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(){t.show("✅ Submission successful!");c.close()},error:function(e,s,o){t.show("❌ Submission failed: "+s)}})}}),endButton:new s({text:"Cancel",press:function(){c.close()}})});c.open()}else{t.show("No hospitals found.")}},error:function(e,s,o){console.error("❌ ERROR:",s,o);t.show("Failed to fetch hospital data!")}})}}});
//# sourceMappingURL=ListController.js.map